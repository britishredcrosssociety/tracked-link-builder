<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <script type="text/javascript" src="jquery-1.8.3.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="stylesheet.css">

  <style type="text/css">
    .alert {
		color: red;
	}
  </style>

<title>Google Analytics URL Builder</title>
<meta property="og:title" content="Google Analytics URL Builder">

<script type='text/javascript'>
$(window).load(function(){
/**
 * From http://jsfiddle.net/5SArB/3138/
 * File: js/showhide.js
 * Author: design1online.com, LLC
 * Purpose: toggle the visibility of fields depending on the value of another field
 **/
$(document).ready(function () {
	//call toggleFields first so we start out with the correct visibility depending on the selected form values
    toggleFields();
	
	//the following calls the toggleFields function every time the given fields are used
    $("#medium").change(function () {
        toggleFields();
    }); 
    $("#sourceSocialAd").change(function () {
        toggleFields();
    }); 
    $("#sourceSocialButton").change(function () {
        toggleFields();
    }); 
    $("#socialadownsourcecode").change(function () {
        toggleFields();
    }); 
    $("#sourceBanner").change(function () {
        toggleFields();
    }); 
    $("#bannerownsourcecode").change(function () {
        toggleFields();
    }); 
}); //this toggles the visibility of our parent permission fields depending on the current selected value of the underAge field
function toggleFields() {

    if ($("#medium").val() === "Paid Search")
        $("#mediumPPCSearch").show() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").hide() && 
		$("#urlHidden").show();

	else if ($("#medium").val() === "Organic Search")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").show() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").hide() &&
		$("#urlHidden").show();
		
	else if ($("#medium").val() === "Earned Social")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").show() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").hide() &&
		$("#urlHidden").show();
		
	else if ($("#medium").val() === "Referral")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").show() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();

	else if ($("#medium").val() === "Social Ad" && $("#socialadownsourcecode").val() === "Yes" )
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").show() &&
		$("#mediumSocialAdOwnSourceCodes").show() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Social Ad" && $("#socialadownsourcecode").val() === "No" )
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").show() &&
		$("#mediumSocialAdOwnSourceCodes").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Banner" && $("#bannerownsourcecode").val() === "Yes" )
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialAdOwnSourceCodes").hide() &&
		$("#mediumBanner").show() &&
		$("#mediumBannerOwnSourceCodes").show() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Banner" && $("#bannerownsourcecode").val() === "No" )
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialAdOwnSourceCodes").hide() &&
		$("#mediumBanner").show() &&
		$("#mediumBannerOwnSourceCodes").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Email")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").show() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Social Post")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").show() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Social Share")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").show() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Social Button")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").show() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Internal")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").show() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
		
	else if ($("#medium").val() === "Rocketseed")
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").show() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();

    else
        $("#mediumPPCSearch").hide() &&
		$("#mediumOrganicSearch").hide() &&
		$("#mediumEarnedSocial").hide() &&
		$("#mediumBanner").hide() &&
		$("#mediumEmail").hide() &&
		$("#mediumSocialAd").hide() &&
		$("#mediumSocialPost").hide() &&
		$("#mediumSocialShare").hide() &&
		$("#mediumSocialButton").hide() &&
		$("#mediumReferral").hide() &&
		$("#mediumInternal").hide() &&
		$("#mediumRocketseed").hide() &&
		$(".showUrlBox").show() &&
		$("#urlHidden").hide();
}
});
</script>
  
</head>

<body>
<div class="container">
    <div class="row">
        <div class="large-12 columns">
            <article>
                <h1><abbr title="Uniform Resource Locator">URL</abbr> Builder for <abbr title="Google Analytics">GA</abbr></h1>
                <p>With the Google Analytics <abbr title="Uniform Resource Locator">URL</abbr> Builder, you can easily tag <abbr title="Uniform Resource Locators">URLs</abbr>
 with custom campaign variables. Campaign variables allow you to track 
which of your promotions are generating the most traffic/conversions. This tool is only for links going to a BRC site page.</p>
                <hr>
                <h2>1) Create <abbr title="Uniform Resource Locator">URL</abbr></h2>
                <p>Fill in the form to create your custom <abbr title="Uniform Resource Locator">URL</abbr>.</p>

<!-- Form field start -->

<form action="">
	<fieldset>
    
		<p>
		<label for="medium">What are you making a tracked link for?
        <select name="medium" id="medium">
		<option value="Banner">Banner</option>
		<option value="Social Ad">Social ad by BRC</option>
		<option value="Social Post">Social post by BRC</option>
		<option value="Social Share">Social share button on BRC site</option>
        <option value="Social Button">Social button (e.g. Facebook)</option>
        <option value="Earned Social">Social post from someone other than BRC</option>
		<option value="Email">Email</option>
        <option value="Paid Search">Paid search</option>
        <option value="Organic Search">Organic search</option>
        <option value="Internal">From a BRC microsite to the main site (e.g. from the blog, the herobox, from a Shorthand app)</option>
        <option value="Rocketseed">Rocketseed banners</option>
        <option value="Referral">Referral from a news site etc.</option>
        </select>
        </label></p>
        
	<p id="mediumPPCSearch" class="alert">This tool isn't for paid search &ndash; we auto-tag campaigns in Google and Bing, so this tool isn't needed.</p>
        
	<p id="mediumOrganicSearch" class="alert">We don't have control over tracking of organic search, so you don't need this tool. Give us a shout if you have any questions.</p>
        
	<p id="mediumEarnedSocial" class="alert">We don't have control over tracking of the links other people use on social media, unless it's from e.g. a share button - so you don't need this tool. Give us a shout if you have any questions.</p>

        <p>
        <label for="campaign">What area of BRC work does the link relate to?
        <select name="campaign" id="campaign">
        <option value="Complex Emergencies Appeal">Donate - Complex Emergencies</option>
		<option value="Disaster Fund">Donate - Disaster Fund</option>
		<option value="General Fund Appeal">Donate - General Fund</option>
        <option value="East Africa Crisis Appeal">Donate - East Africa Crisis</option>
		<option value="Europe Refugee Crisis Appeal">Donate - Europe Refugee Crisis</option>
		<option value="Hurricane Matthew Appeal">Donate - Hurricane Matthew</option>
        <option value="Iraq Crisis Appeal">Donate - Iraq Crisis</option>
		<option value="Lake Chad Crisis Appeal">Donate - Lake Chad Crisis</option>
		<option value="London Fire Relief Fund">Donate - London Fire Relief</option>
        <option value="Manchester Emergency Fund">Donate - Manchester Emergency</option>
		<option value="South Sudan Crisis Appeal">Donate - South Sudan Crisis</option>
		<option value="Syria Crisis Appeal">Donate - Syria Crisis</option>
		<option value="Yemen Crisis Appeal">Donate - Yemen Crisis</option>
        <option value="UK Solidarity Fund">Donate - UK Solidarity Fund</option>
		<option value="London Marathon">Events - London Marathon</option>
        <option value="Co-op Partnership">Partnership - Co-op</option>
		<option value="Aid Conflict">Aid Conflict</option>
		<option value="Aid Disease">Aid Disease</option>
		<option value="Aid Earthquake">Aid Earthquake</option>
		<option value="Aid Hurricane">Aid Hurricane</option>
		<option value="Aid Flooding">Aid Flooding</option>
		<option value="Aid Food Crisis">Aid Food Crisis</option>
		<option value="First Aid">First Aid</option>
		<option value="Fundraising">Fundraising</option>
		<option value="Health">Health</option>
		<option value="Refugee">Refugee</option>
		<option value="Resilience">Resilience</option>
		<option value="Volunteering">Volunteering</option>
		<option value="Other">Other</option>
        </select>
        </label>
        </p>

        <p>
        <label for="domain">What BRC site page are you linking to?
        <input placeholder="Enter the link for the website" name="domain" id="domain" type="url" value="https://">
        </label>
        </p>
        
        <p>
        <label for="isDonate">Is this tracked link for a donate ask?
        <select name="isDonate" id="isDonate">
		<option value="Yes">Yes</option>
		<option value="No">No</option>
        </select>
        </label>
        </p>
        
	<div id="mediumReferral">
        <p class="alert">Your link won't include any UTM tracking, because Google Analytics covers this stuff well by default &ndash; so only continue if you want donation tracking appended.</p>
        <p>
        <label for="source">Campaign Source
        <input placeholder="e.g. Amazon, Facebook, BBC, Guardian" name="source" id="referralsource" type="text">
        </label>
        </p>
        <p>
        <label for="sourcecode">What type of website is it?
        <select name="sourcecode" id="referralsourcecode">
		<option value="154746">News or magazine site</option>
		<option value="154747">Other</option>
		</select>
        </label>
        </p>
        <p>
        <label for="adcreative">What is referring back to our website?
        <select name="adcreative" id="referraladcreative">
		<option value="Article">Article about us or our work</option>
		<option value="Text">Text link in an unrelated area</option>
		</select>
        </label>
        </p>
	</div>
    
    <div id="mediumBanner">
        <p>
        <label for="source">What ad network is the ad on?
        <select name="source" id="bannersource">
		<option value="FORO">FORO</option>
    	<option value="AdYouLike">AdYouLike</option>
		</select>
        </label>
        </p>
        <p>
        <label for="linkcategory">What link from our site is being advertised?
        <select name="linkcategory" id="bannerlinkcategory">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
		</select>
        </label>
        </p>
        <p>
        <label for="adtype">What type of targeting is the banner campaign using?
        <select name="adtype" id="banneradtype">
		<option value="Website">Website placement (e.g. on a specific site / set of sites)</option>
		<option value="Interest">Interest targeting</option>
        <option value="Remarketing">Remarketing</option>
		</select>
        </label>
        </p>
        <p>
        <label for="adcreative">What's the call to action of the link about?
        <input placeholder="Short and sweet e.g. Aleppo attack" name="adcreative" id="banneradcreative" type="text">
        </label>
        </p>
        <p>
        <label for="ownsourcecode">Does this ad push have its own source codes?
        <select name="ownsourcecode" id="bannerownsourcecode">
		<option value="No">No</option>
		<option value="Yes">Yes</option>
		</select>
        </label>
        </p>
        <div style="width:50%; float:left;">
        <label for="audience">Who are we targeting with these ads?
        <input placeholder="Targeting pool 1" name="sourcecode" id="banneraudience1" type="text">
        </label>
        <input placeholder="Targeting pool 2" name="sourcecode" id="banneraudience2" type="text">
        <input placeholder="Targeting pool 3" name="sourcecode" id="banneraudience3" type="text">
        <input placeholder="Targeting pool 4" name="sourcecode" id="banneraudience4" type="text">
        <input placeholder="Targeting pool 5" name="sourcecode" id="banneraudience5" type="text">
        </div>
        <div id="mediumBannerOwnSourceCodes" style="float:right;width:50%;">
        <label for="sourcecode">What are the different source codes for these ads?
        <input placeholder="e.g. 123456" name="sourcecode" id="bannersourcecode1" type="text">
        <input placeholder="e.g. 123457" name="sourcecode" id="bannersourcecode2" type="text">
        <input placeholder="e.g. 123458" name="sourcecode" id="bannersourcecode3" type="text">
        <input placeholder="e.g. 123459" name="sourcecode" id="bannersourcecode4" type="text">
        <input placeholder="e.g. 123450" name="sourcecode" id="bannersourcecode5" type="text">
        </label>
        </p>
        <p>
		<input name="sourcecode" id="bannersourcecode" value="154741" type="hidden">
        </p>
	</div>
    </div>
    
    <div id="mediumEmail">
        <p>
        <label for="source">Which email system are we using for this send?
        <select name="source" id="emailsource">
		<option value="Lyris">Lyris</option>
    	<option value="Mailchimp">Mailchimp</option>
    	<option value="Salesforce">Salesforce</option>
		</select>
        </label>
        </p>
        <p>
        <label for="emailsendname">What type of email is being sent?
        <select name="sendname" id="emailsendname">
		<option value="Donate">Donate</option>
		<option value="Event">Event</option>
		<option value="Stewardship">Stewardship</option>
		</select>
        </label>
        </p>
        <p>
        <label for="emailsendnumber">If there have been multiple emails for this campaign, what number email is this? Just leave this blank if it's not relevant.
        <input placeholder="2" name="sendnumber" id="emailsendnumber" type="number" min="1" max="30">
        </label>
        </p>
        <p>
        <label for="adcreative">What is the topic of this email?
        <input placeholder="Short and sweet e.g. Aleppo attack" name="adcreative" id="emailadcreative" type="text">
        </label>
        </p>
        <div style="width:50%; float:left;">
        	<label for="linklocation">What are each of the links pointing to?
			<select name="linklocation" id="emaillinklocation1">
            <option value=""></option>
            <option value="Header Button">Header Button</option>
            <option value="Copy Button">Copy Button</option>
            <option value="Mega Button">Mega Button</option>
            <option value="Copy 1">Copy 1</option>
            <option value="Copy 2">Copy 2</option>
            <option value="Copy 3">Copy 3</option>
            <option value="Shopping List 1">Shopping List 1</option>
            <option value="Shopping List 2">Shopping List 2</option>
            <option value="Shopping List 3">Shopping List 3</option>
            <option name="Footer" value="Footer">Footer</option>
            </select>
            </label>
            <select name="linklocation" id="emaillinklocation2">
            <option value=""></option>
            <option value="Header Button">Header Button</option>
            <option value="Copy Button">Copy Button</option>
            <option value="Mega Button">Mega Button</option>
            <option value="Copy 1">Copy 1</option>
            <option value="Copy 2">Copy 2</option>
            <option value="Copy 3">Copy 3</option>
            <option value="Shopping List 1">Shopping List 1</option>
            <option value="Shopping List 2">Shopping List 2</option>
            <option value="Shopping List 3">Shopping List 3</option>
            <option name="Footer" value="Footer">Footer</option>
            </select>
            <select name="linklocation" id="emaillinklocation3">
            <option value=""></option>
            <option value="Header Button">Header Button</option>
            <option value="Copy Button">Copy Button</option>
            <option value="Mega Button">Mega Button</option>
            <option value="Copy 1">Copy 1</option>
            <option value="Copy 2">Copy 2</option>
            <option value="Copy 3">Copy 3</option>
            <option value="Shopping List 1">Shopping List 1</option>
            <option value="Shopping List 2">Shopping List 2</option>
            <option value="Shopping List 3">Shopping List 3</option>
            <option name="Footer" value="Footer">Footer</option>
            </select>
            <select name="linklocation" id="emaillinklocation4">
            <option value=""></option>
            <option value="Header Button">Header Button</option>
            <option value="Copy Button">Copy Button</option>
            <option value="Mega Button">Mega Button</option>
            <option value="Copy 1">Copy 1</option>
            <option value="Copy 2">Copy 2</option>
            <option value="Copy 3">Copy 3</option>
            <option value="Shopping List 1">Shopping List 1</option>
            <option value="Shopping List 2">Shopping List 2</option>
            <option value="Shopping List 3">Shopping List 3</option>
            <option name="Footer" value="Footer">Footer</option>
            </select>
            <select name="linklocation" id="emaillinklocation5">
            <option value=""></option>
            <option value="Header Button">Header Button</option>
            <option value="Copy Button">Copy Button</option>
            <option value="Mega Button">Mega Button</option>
            <option value="Copy 1">Copy 1</option>
            <option value="Copy 2">Copy 2</option>
            <option value="Copy 3">Copy 3</option>
            <option value="Shopping List 1">Shopping List 1</option>
            <option value="Shopping List 2">Shopping List 2</option>
            <option value="Shopping List 3">Shopping List 3</option>
            <option name="Footer" value="Footer">Footer</option>
            </select>
        </div>
      		<div style="float:right;width:50%;">
            	<label>&nbsp;
      			<input placeholder="e.g. Donate" name="linkcontent" id="emaillinkcontent1" type="text">
      			<input placeholder="e.g. Donate" name="linkcontent" id="emaillinkcontent2" type="text">
      			<input placeholder="e.g. Donate" name="linkcontent" id="emaillinkcontent3" type="text">
      			<input placeholder="e.g. Donate" name="linkcontent" id="emaillinkcontent4" type="text">
      			<input placeholder="e.g. Donate" name="linkcontent" id="emaillinkcontent5" type="text">
                </label>
       			</p>
			</div>
        <p>
        The source code and audience is set to pull through dynamically into the links.
        </p>
    </div>
    
    <div id="mediumSocialAd">
        <p>
        <label for="source">What social network is the ad on?
        <select name="source" id="socialadsource">
		<option value="Facebook">Facebook</option>
		</select>
        </label>
        </p>
        <p>
        <label for="linkcategory">What link from our site is being advertised?
        <select name="linkcategory" id="socialadlinkcategory">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
		</select>
        </label>
        </p>
        <p>
        <label for="adtype">What type of ad is it?
        <select name="adtype" id="socialadadtype">
		<option value="Link">Link</option>
		<option value="Video">Video</option>
		<option value="Carousel">Carousel</option>
		<option value="Canvas">Canvas</option>
		<option value="Event Response">Event Response</option>
		<option value="Boosted Photo">Boosted Photo</option>
		<option value="Boosted Video">Boosted Video</option>
		<option value="Boosted Text">Boosted Text</option>
		</select>
        </label>
        </p>
        <p>
        <label for="adcreative">What's the call to action of the link about?
        <input placeholder="Short and sweet e.g. Aleppo attack" name="adcreative" id="socialadadcreative" type="text">
        </label>
        </p>
        <p>
        <label for="ownsourcecode">Does this ad push have its own source codes?
        <select name="ownsourcecode" id="socialadownsourcecode">
		<option value="No">No</option>
		<option value="Yes">Yes</option>
		</select>
        </label>
        </p>
        <div style="width:50%; float:left;">
        <label for="audience">Who are we targeting with these ads?
        <select name="audience" id="socialadaudience1">
		<option value=""></option>
		<option value="Women 25-34">Women 25-34</option>
		<option value="Women 35-44">Women 35-44</option>
        <option value="Women 45-54">Women 45-54</option>
        <option value="Women 55-64">Women 55-64</option>
        <option value="Women 55 Plus">Women 55+</option>
        <option value="Women 65 Plus">Women 65+</option>
		<option value="Men 25-34">Men 25-34</option>
		<option value="Men 35-44">Men 35-44</option>
        <option value="Men 45-54">Men 45-54</option>
        <option value="Men 55-64">Men 55-64</option>
        <option value="Men 55 Plus">Men 55+</option>
        <option value="Men 65 Plus">Men 65+</option>
        <option value="BRC Page Likers">BRC Page Likers</option>
        <option value="Humanitarians">Humanitarians</option>
        <option value="Progressive Professionals">Progressive Professionals</option>
        <option value="Running">Running</option>
        <option value="Cycling">Cycling</option>
        <option value="Fitness">Fitness</option>
        <option value="Baking">Baking</option>
        <option value="Trekking">Trekking</option>
        <option value="Gambling">Gambling</option>
		</select>
        </label>
        <select name="audience" id="socialadaudience2">
		<option value=""></option>
		<option value="Women 25-34">Women 25-34</option>
		<option value="Women 35-44">Women 35-44</option>
        <option value="Women 45-54">Women 45-54</option>
        <option value="Women 55-64">Women 55-64</option>
        <option value="Women 55 Plus">Women 55+</option>
        <option value="Women 65 Plus">Women 65+</option>
		<option value="Men 25-34">Men 25-34</option>
		<option value="Men 35-44">Men 35-44</option>
        <option value="Men 45-54">Men 45-54</option>
        <option value="Men 55-64">Men 55-64</option>
        <option value="Men 55 Plus">Men 55+</option>
        <option value="Men 65 Plus">Men 65+</option>
        <option value="BRC Page Likers">BRC Page Likers</option>
        <option value="Humanitarians">Humanitarians</option>
        <option value="Progressive Professionals">Progressive Professionals</option>
        <option value="Running">Running</option>
        <option value="Cycling">Cycling</option>
        <option value="Fitness">Fitness</option>
        <option value="Baking">Baking</option>
        <option value="Trekking">Trekking</option>
        <option value="Gambling">Gambling</option>
		</select>
        <select name="audience" id="socialadaudience3">
		<option value=""></option>
		<option value="Women 25-34">Women 25-34</option>
		<option value="Women 35-44">Women 35-44</option>
        <option value="Women 45-54">Women 45-54</option>
        <option value="Women 55-64">Women 55-64</option>
        <option value="Women 55 Plus">Women 55+</option>
        <option value="Women 65 Plus">Women 65+</option>
		<option value="Men 25-34">Men 25-34</option>
		<option value="Men 35-44">Men 35-44</option>
        <option value="Men 45-54">Men 45-54</option>
        <option value="Men 55-64">Men 55-64</option>
        <option value="Men 55 Plus">Men 55+</option>
        <option value="Men 65 Plus">Men 65+</option>
        <option value="BRC Page Likers">BRC Page Likers</option>
        <option value="Humanitarians">Humanitarians</option>
        <option value="Progressive Professionals">Progressive Professionals</option>
        <option value="Running">Running</option>
        <option value="Cycling">Cycling</option>
        <option value="Fitness">Fitness</option>
        <option value="Baking">Baking</option>
        <option value="Trekking">Trekking</option>
        <option value="Gambling">Gambling</option>
		</select>
        <select name="audience" id="socialadaudience4">
		<option value=""></option>
		<option value="Women 25-34">Women 25-34</option>
		<option value="Women 35-44">Women 35-44</option>
        <option value="Women 45-54">Women 45-54</option>
        <option value="Women 55-64">Women 55-64</option>
        <option value="Women 55 Plus">Women 55+</option>
        <option value="Women 65 Plus">Women 65+</option>
		<option value="Men 25-34">Men 25-34</option>
		<option value="Men 35-44">Men 35-44</option>
        <option value="Men 45-54">Men 45-54</option>
        <option value="Men 55-64">Men 55-64</option>
        <option value="Men 55 Plus">Men 55+</option>
        <option value="Men 65 Plus">Men 65+</option>
        <option value="BRC Page Likers">BRC Page Likers</option>
        <option value="Humanitarians">Humanitarians</option>
        <option value="Progressive Professionals">Progressive Professionals</option>
        <option value="Running">Running</option>
        <option value="Cycling">Cycling</option>
        <option value="Fitness">Fitness</option>
        <option value="Baking">Baking</option>
        <option value="Trekking">Trekking</option>
        <option value="Gambling">Gambling</option>
		</select>
        <select name="audience" id="socialadaudience5">
		<option value=""></option>
		<option value="Women 25-34">Women 25-34</option>
		<option value="Women 35-44">Women 35-44</option>
        <option value="Women 45-54">Women 45-54</option>
        <option value="Women 55-64">Women 55-64</option>
        <option value="Women 55 Plus">Women 55+</option>
        <option value="Women 65 Plus">Women 65+</option>
		<option value="Men 25-34">Men 25-34</option>
		<option value="Men 35-44">Men 35-44</option>
        <option value="Men 45-54">Men 45-54</option>
        <option value="Men 55-64">Men 55-64</option>
        <option value="Men 55 Plus">Men 55+</option>
        <option value="Men 65 Plus">Men 65+</option>
        <option value="BRC Page Likers">BRC Page Likers</option>
        <option value="Humanitarians">Humanitarians</option>
        <option value="Progressive Professionals">Progressive Professionals</option>
        <option value="Running">Running</option>
        <option value="Cycling">Cycling</option>
        <option value="Fitness">Fitness</option>
        <option value="Baking">Baking</option>
        <option value="Trekking">Trekking</option>
        <option value="Gambling">Gambling</option>
		</select>
        </div>
        <div id="mediumSocialAdOwnSourceCodes" style="float:right;width:50%;">
        <label for="sourcecode">What are the different source codes for these ads?
        <input placeholder="e.g. 123456" name="sourcecode" id="socialadsourcecode1" type="text">
        <input placeholder="e.g. 123457" name="sourcecode" id="socialadsourcecode2" type="text">
        <input placeholder="e.g. 123458" name="sourcecode" id="socialadsourcecode3" type="text">
        <input placeholder="e.g. 123459" name="sourcecode" id="socialadsourcecode4" type="text">
        <input placeholder="e.g. 123450" name="sourcecode" id="socialadsourcecode5" type="text">
        </label>
        </p>
        <p>
		<input name="sourcecode" id="socialadsourcecode" value="154750" type="hidden">
        </p>
	</div>
    </div>
    
	<div id="mediumSocialPost">
        <p>
        <label for="source">What social network is the post on?
        <select name="source" id="socialpostsource">
		<option value="Facebook">Facebook</option>
		<option value="Twitter">Twitter</option>
		<option value="Instagram">Instagram</option>
		<option value="Youtube">Youtube</option>
		<option value="LinkedIn">LinkedIn</option>
		</select>
        </label>
        </p>
        <p>
		<input name="sourcecode" id="socialpostsourcecode" value="154750" type="hidden">
		<input name="audience" id="socialpostaudience" value="BRC Followers" type="hidden">
        </p>
        <p>
        <label for="linkcategory">What link from our site is being shared?
        <select name="linkcategory" id="socialpostlinkcategory">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
        <option value="Webapps">Webapps</option>
		</select>
        </label>
        </p>

        <p>
        <label for="linkdetails">What's the call to action of the link about?
        <input placeholder="Short and sweet e.g. Aleppo attack" name="linkdetails" id="socialpostlinkdetails" type="text">
        </label>
        </p>
	</div>
    
    <div id="mediumSocialShare">
        <p>
        <label for="source">What social network is the share button for?
        <select name="source" id="socialsharesource">
		<option value="Facebook">Facebook</option>
		<option value="Twitter">Twitter</option>
		</select>
        </label>
        </p>
        <p>
		<input name="sourcecode" id="socialsharesourcecode" value="154750" type="hidden">
        <label for="audience">Where is the social share button on our site?
        <select name="audience" id="socialshareaudience">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Thank You">Donate - Thank You</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
        <option value="Webapps">Webapps</option>
		</select>
        </label>
        </p>
        <p>
        <label for="linkcategory">What link from our site is being shared?
        <select name="linkcategory" id="socialsharelinkcategory">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
        <option value="Webapps">Webapps</option>
		</select>
        </label>
        </p>

        <p>
        <label for="linkdetails">What's the call to action of the link about?
        <input placeholder="Short and sweet e.g. Aleppo attack" name="linkdetails" id="socialsharelinkdetails" type="text">
        </label>
        </p>
	</div>
    
<div id="mediumSocialButton">
        <p>
        <label for="source">What social network is the share button for?
        <select name="source" id="socialbuttonsource">
		<option value="Facebook">Facebook</option>
		</select>
        </label>
        </p>
        <p>
		<input name="sourcecode" id="socialbuttonsourcecode" value="154750" type="hidden">
        </p>
        <p>
        <label for="audience">Where is this social button going?
        <select name="audience" id="socialbuttonaudience">
        <option value="BRC Page">BRC Page</option>
        </select>
        </label>
        </p>
        <p>
        <label for="linkcategory">What link from our site is being shared?
        <select name="linkcategory" id="socialbuttonlinkcategory">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
        <option value="Webapps">Webapps</option>
		</select>
        </label>
        </p>

        <p>
        <label for="linkdetails">What's the call to action of the link about?
        <select name="linkdetails" id="socialbuttonlinkdetails">
        <option value="Donate">Donate</option>
        </select>
        </label>
        </p>
	</div>
    
    <div id="mediumInternal">
    	<p class="alert">Your link won't include any UTM tracking, because it breaks up the session in Google Analytics &ndash; so only continue if you want donation tracking appended.</p>
        <p>
        <label for="source">Which of BRC's microsites will this link go onto?
        <select name="source" id="internalsource">
		<option value="BRC Blog">Blog</option>
        <option value="Herobox">Herobox</option>
        <option value="Webapps">Webapps</option>
		</select>
        </label>
        </p>
        <p>
		<input name="sourcecode" id="internalsourcecode" value="154742" type="hidden">
		<input name="audience" id="internalaudience" value="BRC Site" type="hidden">
        </p>
        <p>
        <label for="linkcategory">What link from our site is being shared?
        <select name="linkcategory" id="internallinkcategory">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
        <option value="Webapps">Webapps</option>
		</select>
        </label>
        </p>

        <p>
        <label for="linkdetails">What's the call to action of the link about?
        <input placeholder="Short and sweet e.g. Aleppo attack" name="linkdetails" id="internallinkdetails" type="text">
        </label>
        </p>   
    </div>
	<div id="mediumRocketseed">
        <p>
        <label for="source">What platform is being used to show the banners?
        <input id="rocketseedsource" type="text" name="source" value="Rocketseed" readonly="readonly">
        </label>
        </p>
        <p>
		<input name="sourcecode" id="rocketseedsourcecode" value="154748" type="hidden">
		<input name="audience" id="rocketseedaudience" value="Emailed by BRC" type="hidden">
		<input name="medium" id="rocketseedmedium" value="Banner" type="hidden">
        </p>
        <p>
        <label for="linkcategory">What link from our site is being shared?
        <select name="linkcategory" id="rocketseedlinkcategory">
		<option value="Donate Landing">Donate - Landing</option>
		<option value="Donate Other">Donate - Other</option>
		<option value="What We Do">What We Do</option>
		<option value="Where We Work">Where We Work</option>
		<option value="About Us">About Us</option>
		<option value="Get Involved">Get Involved</option>
		<option value="Shop">Shop</option>
		<option value="Blog">Blog</option>
        <option value="Webapps">Webapps</option>
		</select>
        </label>
        </p>

        <p>
        <label for="linkdetails">What's the call to action of the link about?
        <input placeholder="Short and sweet e.g. Aleppo attack" name="linkdetails" id="rocketseedlinkdetails" type="text">
        </label>
        </p>
	</div>
                	</fieldset>
                </form>
                <h2>2) Copy and Paste</h2>
                <p>Click on <abbr title="Uniform Resource Locator">URL</abbr> to select and then copy it.</p>
				<p>Note: do not change the URL from below. Even "small" changes may break our ability to report, and may even mean that the donation may not appear in our reports at all.</p>
            	<div class="output" id="html">
            		<p class="showUrlBox"><label for="url">Code to use <textarea style="background: rgb(241, 241, 241) none repeat scroll 0% 0%; height: 256px;" placeholder="Code will appear here after filling out the above form" id="url" readonly></textarea></label></p>
                <p id="urlHidden" class="alert">Due to your selections above, there is no tracked link to copy.</p>
            	</div>
            <br><br><br><br>
            
            </article>
        </div>
    </div>
</div>
<script>
	function updateOutput()
        {
        	
		var domain = $('#domain').val();
        var medium = $('#medium').val();
		var source;
		var adCreative;
		var sourceCode;
		var sourceCode1 = 0;
		var sourceCode2 = 0;
		var ownSourceCode;
		/* var sourceCodeList = [sourceCode1,sourceCode2];
		var sourceCodeCount = 0; */
		var audience/* = "audience"*/;
		var audience1/* = "audience1"*/;
		var audience2/* = "audience2"*/;
		/*var audience3 = "audience3";
		var audience4 = "audience4";
		var audience5 = "audience5";*/
		var linkContent1;
		var linkContent2;
		var linkContent3;
		var linkContent4;
		var linkContent5;
		var linkLocation1 = "hold";
		var linkLocation2 = "hold";
		var linkLocation3 = "hold";
		var linkLocation4 = "hold";
		var linkLocation5 = "hold";
		var linkLocations = [linkLocation1, linkLocation2, linkLocation3, linkLocation4, linkLocation5];
		switch (medium) {
			case "Referral":
				source = $('#referralsource').val();
				adCreative = $('#referraladcreative').val();
				sourceCode = $('#referralsourcecode').val();
				audience = $('#referralaudience').val();
				break;
			case "Banner":
				source = $('#bannersource').val();
				adCreative = $('#bannerlinkcategory').val();
				if ($('#banneradcreative').val()) {
					adCreative = adCreative + '_' + $('#banneradcreative').val();}
				sourceCode = $('#bannersourcecode').val();
				sourceCode1 = $('#bannersourcecode1').val();
				sourceCode2 = $('#bannersourcecode2').val();
				sourceCode3 = $('#bannersourcecode3').val();
				sourceCode4 = $('#bannersourcecode4').val();
				sourceCode5 = $('#bannersourcecode5').val();
				audience = $('#banneradtype').val() + '_' +"audience"
				audience1 = $('#banneraudience1').val();
				audience2 = $('#banneraudience2').val();
				audience3 = $('#banneraudience3').val();
				audience4 = $('#banneraudience4').val();
				audience5 = $('#banneraudience5').val();
				ownSourceCode = $('#bannerownsourcecode').val();
				break;
			case "Email":
				source = $('#emailsource').val();
				adCreative = $('#emailsendname').val()
				if ($('#emailsendnumber').val()) {
					adCreative = adCreative + '_SendNumber' + $('#emailsendnumber').val()
					}
				if ($('#emailadcreative').val()) {
					adCreative = adCreative + '_' + $('#emailadcreative').val()
					}
				linkLocation = "linklocation";
				linkContent = "linkcontent";
				adCreative = adCreative + '_' + linkLocation + '_' + linkContent;
				linkLocation1 = $('#emaillinklocation1').val();
				linkLocation2 = $('#emaillinklocation2').val();
				linkLocation3 = $('#emaillinklocation3').val();
				linkLocation4 = $('#emaillinklocation4').val();
				linkLocation5 = $('#emaillinklocation5').val();
				linkContent1 = $('#emaillinkcontent1').val();
				linkContent2 = $('#emaillinkcontent2').val();
				linkContent3 = $('#emaillinkcontent3').val();
				linkContent4 = $('#emaillinkcontent4').val();
				linkContent5 = $('#emaillinkcontent5').val();
				sourceCode = "%%APPROACH_CODE%%";
				audience = "%%AUDIENCE%%";
				break;
			case "Social Ad":
				source = $('#socialadsource').val();
				adCreative = $('#socialadlinkcategory').val() + '_' + $('#socialadadtype').val();
				if ($('#socialadadcreative').val()) {
					adCreative = adCreative + '_' + $('#socialadadcreative').val();}
				sourceCode = $('#socialadsourcecode').val();
				sourceCode1 = $('#socialadsourcecode1').val();
				sourceCode2 = $('#socialadsourcecode2').val();
				sourceCode3 = $('#socialadsourcecode3').val();
				sourceCode4 = $('#socialadsourcecode4').val();
				sourceCode5 = $('#socialadsourcecode5').val();
				audience = "audience"
				audience1 = $('#socialadaudience1').val();
				audience2 = $('#socialadaudience2').val();
				audience3 = $('#socialadaudience3').val();
				audience4 = $('#socialadaudience4').val();
				audience5 = $('#socialadaudience5').val();
				ownSourceCode = $('#socialadownsourcecode').val();
				break;
			case "Social Post":
				source = $('#socialpostsource').val();
				adCreative = $('#socialpostlinkcategory').val();
				if ($('#socialpostlinkdetails').val()) {
					adCreative = adCreative + '_' + $('#socialpostlinkdetails').val();}
				sourceCode = $('#socialpostsourcecode').val();
				audience = $('#socialpostaudience').val();
				break;
			case "Social Share":
				source = $('#socialsharesource').val();
				adCreative = $('#socialsharelinkcategory').val();
				if ($('#socialsharelinkdetails').val()) {
					adCreative = adCreative + '_' + $('#socialsharelinkdetails').val();}
				sourceCode = $('#socialsharesourcecode').val();
				audience = $('#socialshareaudience').val();
				break;
			case "Social Button":
				source = $('#socialbuttonsource').val();
				adCreative = $('#socialbuttonlinkcategory').val();
				if ($('#socialbuttonlinkdetails').val()) {
					adCreative = adCreative + '_' + $('#socialbuttonlinkdetails').val();}
				sourceCode = $('#socialbuttonsourcecode').val();
				audience = $('#socialbuttonaudience').val();
				break;
			case "Internal":
				source = $('#internalsource').val();
				adCreative = $('#internallinkcategory').val();
				if ($('#internallinkdetails').val()) {
					adCreative = adCreative + '_' + $('#internallinkdetails').val();}
				sourceCode = $('#internalsourcecode').val();
				audience = $('#internalaudience').val();
				break;
			case "Rocketseed":
				source = $('#rocketseedsource').val();
				adCreative = $('#rocketseedlinkcategory').val();
				if ($('#rocketseedlinkdetails').val()) {
					adCreative = adCreative + '_' + $('#rocketseedlinkdetails').val();}
				sourceCode = $('#rocketseedsourcecode').val();
				audience = $('#rocketseedaudience').val();
				medium = $('#rocketseedmedium').val();
				break;
			default:
				source = $('#source').val();
				adCreative = $('#adcreative').val();
				sourceCode = $('#sourcecode').val();
				audience = $('#audience').val();
		}

		/* for( var i = 0; i < sourceCodeList.length; i++) {
		    if(sourceCodeList[i] > 0)
        		sourceCodeCount++;
			}*/  // count how many source codes are bigger than zero
        // as Audience is dynamically replaced for multi-link paths, and is used both in approachcode and utm and c tracking, it's not simple to keep the %20 in the UTM but remove it in the approachcode => just replace with underscores for both 
        /*var audience = audience.replace(/(\s|%20)/g, "_");
        var audience1 = audience1.replace(/(\s|%20)/g, "_");
        var audience2 = audience2.replace(/(\s|%20)/g, "_");
        var audience3 = audience3.replace(/(\s|%20)/g, "_");
        var audience4 = audience4.replace(/(\s|%20)/g, "_");
        var audience5 = audience5.replace(/(\s|%20)/g, "_");*/
       	var campaign = $('#campaign').val();
       	var isDonate = $('#isDonate').val();
		
		// Set so that the URL has to start https://
        var domain = domain.replace(/https?/g, "").replace(":", "").replace("//", "");
        var html = "https://" + domain + '?';
		
		if (medium !== "Referral" && medium !== "Internal") {
       	var html = html+'utm_campaign='+encodeURIComponent(campaign)+'&utm_source='+encodeURIComponent(source)+'&utm_medium='+encodeURIComponent(medium)+ '&utm_content='+encodeURIComponent(adCreative)+'&utm_term='+sourceCode;
			};
		if (audience !== "%%AUDIENCE%%") {
			audience = encodeURIComponent(audience);
		};
		if (sourceCode !== "%%APPROACH_CODE%%") {
			sourceCode = encodeURIComponent(sourceCode);
		};
       	if (audience && medium !== "Referral" && medium !== "Internal") {
       		var html = html + '_'+ audience;
       		}
		if (medium !== "Referral" && medium !== "Internal" && isDonate === "Yes") {
			var html = html + '&'
			}
		if (isDonate === "Yes") {
			var html = html+'c_name='+encodeURIComponent(campaign)+'&c_source='+encodeURIComponent(source)+'&c_medium='+encodeURIComponent(medium)+'&c_creative='+encodeURIComponent(adCreative)+'&c_code='+sourceCode;
			if (audience && isDonate === "Yes") {
				var html = html + '&adg=' + audience;
				}
			if (isDonate === "Yes") {
				var approachCodeTracking = sourceCode + encodeURIComponent('_'+campaign+source+medium);
				if (audience) {
					var approachCodeTracking = approachCodeTracking + audience;
				var approachCodeTracking = approachCodeTracking + '_' + adCreative;
				};
				// var html = html + '&approachcode='+ approachCodeTracking.replace(/%20/g, "").replace(/ /g, "");
                var html = html + '&approachcode='+ approachCodeTracking.replace(/(\s|%20)/g, "").replace(/[^0-9a-zA-Z_%]/g, "").replace(/([^%])%([^%])/g, "$1" + "$2");; // Remove everything that's not a number, letter or underscore or %, as special characters e.g. dashes break the old tracking. THEN remove any individual %s, but keep any duplicates e.g. for %%variables%%.
			}
			}
			
// For banner and social ads - To repeat the link for each audience filled in, replacing the audience for each one.
// NOTE: If variables used here are not defined on page load (i.e. literally on load, or with the default medium selection) then it will mess things up.

		if (audience1 && !audience2 && !audience3 && !audience4 && !audience5 ) {
			var html = html.replace(/audience/g,encodeURIComponent(audience1));
			if (ownSourceCode === "Yes") {
				var html = html.replace(/154741|154750/g,encodeURIComponent(sourceCode1));
			}
		} else if (audience1 && audience2 && !audience3 && !audience4 && !audience5 ) {
			var html1 = html.replace(/audience/g,encodeURIComponent(audience1));
			var html2 = html.replace(/audience/g,encodeURIComponent(audience2));
			if (ownSourceCode === "Yes") {
				var html1 = html1.replace(/154741|154750/g,encodeURIComponent(sourceCode1));
				var html2 = html2.replace(/154741|154750/g,encodeURIComponent(sourceCode2));
			}
			var html = html1 + "\n\n" + html2;
		} else if (audience1 && audience2 && audience3 && !audience4 && !audience5 ) {
			var html1 = html.replace(/audience/g,encodeURIComponent(audience1));
			var html2 = html.replace(/audience/g,encodeURIComponent(audience2));
			var html3 = html.replace(/audience/g,encodeURIComponent(audience3));
			if (ownSourceCode === "Yes") {
				var html1 = html1.replace(/154741|154750/g,encodeURIComponent(sourceCode1));
				var html2 = html2.replace(/154741|154750/g,encodeURIComponent(sourceCode2));
				var html3 = html3.replace(/154741|154750/g,encodeURIComponent(sourceCode3));
			}
			var html = html1 + "\n\n" + html2 + "\n\n" + html3;
		} else if (audience1 && audience2 && audience3 && audience4 && !audience5 ) {
			var html1 = html.replace(/audience/g,encodeURIComponent(audience1));
			var html2 = html.replace(/audience/g,encodeURIComponent(audience2));
			var html3 = html.replace(/audience/g,encodeURIComponent(audience3));
			var html4 = html.replace(/audience/g,encodeURIComponent(audience4));
			if (ownSourceCode === "Yes") {
				var html1 = html1.replace(/154741|154750/g,encodeURIComponent(sourceCode1));
				var html2 = html2.replace(/154741|154750/g,encodeURIComponent(sourceCode2));
				var html3 = html3.replace(/154741|154750/g,encodeURIComponent(sourceCode3));
				var html4 = html4.replace(/154741|154750/g,encodeURIComponent(sourceCode4));
			}
			var html = html1 + "\n\n" + html2 + "\n\n" + html3 + "\n\n" + html4;
		} else if (audience1 && audience2 && audience3 && audience4 && audience5 ) {
			var html1 = html.replace(/audience/g,encodeURIComponent(audience1));
			var html2 = html.replace(/audience/g,encodeURIComponent(audience2));
			var html3 = html.replace(/audience/g,encodeURIComponent(audience3));
			var html4 = html.replace(/audience/g,encodeURIComponent(audience4));
			var html5 = html.replace(/audience/g,encodeURIComponent(audience5));
			if (ownSourceCode === "Yes") {
				var html1 = html1.replace(/154741|154750/g,encodeURIComponent(sourceCode1));
				var html2 = html2.replace(/154741|154750/g,encodeURIComponent(sourceCode2));
				var html3 = html3.replace(/154741|154750/g,encodeURIComponent(sourceCode3));
				var html4 = html4.replace(/154741|154750/g,encodeURIComponent(sourceCode4));
				var html5 = html5.replace(/154741|154750/g,encodeURIComponent(sourceCode5));
			}
			var html = html1 + "\n\n" + html2 + "\n\n" + html3 + "\n\n" + html4 + "\n\n" + html5;
		} else {
			var html = html;
		}

// For email - to replace the link for each link content filled in, with the link location and link content replaced each time.
// NOTE: If variables used here are not defined on page load (i.e. literally on load, or with the default medium selection) then it will mess things up.
		
		if (linkContent1 && !linkContent2) {
			var html = html.replace(/linkcontent/g,encodeURIComponent(linkContent1)).replace(/linklocation/g,encodeURIComponent(linkLocation1));
		} else if (linkContent2 && !linkContent3) {
			var html1 = html.replace(/linkcontent/g,encodeURIComponent(linkContent1)).replace(/linklocation/g,encodeURIComponent(linkLocation1));
			var html2 = html.replace(/linkcontent/g,encodeURIComponent(linkContent2)).replace(/linklocation/g,encodeURIComponent(linkLocation2));
			var html = html1 + "\n\n" + html2;
		} else if (linkContent3 && !linkContent4) {
			var html1 = html.replace(/linkcontent/g,encodeURIComponent(linkContent1)).replace(/linklocation/g,encodeURIComponent(linkLocation1));
			var html2 = html.replace(/linkcontent/g,encodeURIComponent(linkContent2)).replace(/linklocation/g,encodeURIComponent(linkLocation2));
			var html3 = html.replace(/linkcontent/g,encodeURIComponent(linkContent3)).replace(/linklocation/g,encodeURIComponent(linkLocation3));
			var html = html1 + "\n\n" + html2 + "\n\n" + html3;
		} else if (linkContent4 && !linkContent5) {
			var html1 = html.replace(/linkcontent/g,encodeURIComponent(linkContent1)).replace(/linklocation/g,encodeURIComponent(linkLocation1));
			var html2 = html.replace(/linkcontent/g,encodeURIComponent(linkContent2)).replace(/linklocation/g,encodeURIComponent(linkLocation2));
			var html3 = html.replace(/linkcontent/g,encodeURIComponent(linkContent3)).replace(/linklocation/g,encodeURIComponent(linkLocation3));
			var html4 = html.replace(/linkcontent/g,encodeURIComponent(linkContent4)).replace(/linklocation/g,encodeURIComponent(linkLocation4));
			var html = html1 + "\n\n" + html2 + "\n\n" + html3 + "\n\n" + html4;
		} else if (linkContent5) {
			var html1 = html.replace(/linkcontent/g,encodeURIComponent(linkContent1)).replace(/linklocation/g,encodeURIComponent(linkLocation1));
			var html2 = html.replace(/linkcontent/g,encodeURIComponent(linkContent2)).replace(/linklocation/g,encodeURIComponent(linkLocation2));
			var html3 = html.replace(/linkcontent/g,encodeURIComponent(linkContent3)).replace(/linklocation/g,encodeURIComponent(linkLocation3));
			var html4 = html.replace(/linkcontent/g,encodeURIComponent(linkContent4)).replace(/linklocation/g,encodeURIComponent(linkLocation4));
			var html5 = html.replace(/linkcontent/g,encodeURIComponent(linkContent5)).replace(/linklocation/g,encodeURIComponent(linkLocation5));
			var html = html1 + "\n\n" + html2 + "\n\n" + html3 + "\n\n" + html4 + "\n\n" + html5;
		} else {
			var html = html;
		}
		// Code to remove %20 from all approachcode trackings. Example taken from https://www.bennadel.com/blog/1742-using-regular-expressions-in-javascript-a-general-overview.htm
		var html = html.replace(/(approachcode=)([\w&\?=\.:\/%\+-]*)(\s|\n|$)/gi,
	function($0,$1,$2,$3){
		return( $1 + $2.replace(/(%20|\s)/g, "").replace(/[&\?=\.:\/\+-]/g, "").replace(/(%26|%3F|%3D|%3A|%2F|%25|%2B)/g, "") + $3 ); // % not removed as otherwise it screws with the 'remove encoded chars' task later
						}
					);
		var html = html.replace(/(\s|\n|^)([\w\?\.:\/\+-]*)\?([\w\?\.\+%=&!\*'\(\);@\$,\|#\^\[\]~\{\}"`\\|-]*)(\s|\n|$)/gi,
	function($0,$1,$2,$3,$4){
		return( $1 + $2 + "?" + $3.replace(/\./g, "") + $4 );
							}
					); // remove the . from the query string but not from the actual URL
		if (medium == "Email") {
			var html = html.replace(/(\s|\n|^)(https:\/\/[^\s\n^]*)(\s|\n|$)/gi,
	function($0,$1,$2,$3){
		return( $1 + $2 + "&wu=true" + $3);
							}
					);
		};// add wu=true for email people
		
			/* var html = html.replace(sourceCode,sourceCodeList[0]);
				for(var i = 1;i<sourceCodeCount;++i) {
					var html = html + html.replace(sourceCode,sourceCodeList[i]) + '<br>' ;
					} */
		
        if (domain && source && medium && campaign) {
            $('#url').html(html.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/[!\*'\(\);@\$,\|#\^\[\]~\{\}"`\\|]/g, "").replace(/(%21|%22|%C2|%A3|%24|%5E|%28|%29|%5B|%5D|%3B|%27|%23|%2C|%7B|%7D|%40|%7E|%3C|%3E|%60|%C2|%AC|%C2|%A6|%5C|%7C)/g, "")); // Can't remove ?,=,&,_ for tracking reasons, or .,:,/,% for URL reasons
        	$('#url').change();
        	} else {
        	$('#url').html('');
       		$('#url').change();
       	}
	}

	function initpage() {
     //     $('.showUrlBox').autogrow(); // fit the URL field to the size of the URL - for some reason, this clashes with the URL generation
     //   	$('.showUrlBox').click(function() {
     //   		$(this).select();
     //   	}); // if you click into the URL field, then select its contents - for some reason, this clashes with the URL generation
        	$('input').keyup(window.updateOutput);
        	$('input').click(window.updateOutput);
        	$('select').change(window.updateOutput);

			updateOutput();
	}

	$(window.initpage);

</script>

</body>

</html>
